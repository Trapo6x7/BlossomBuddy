{
    "openapi": "3.0.0",
    "info": {
        "title": "Blossom Buddy API",
        "description": "API pour la gestion des plantes",
        "contact": {
            "email": "admin@blossombuddy.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000/api",
            "description": "Local"
        }
    ],
    "paths": {
        "/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Inscription d'un utilisateur",
                "operationId": "0903f2e0df1a8857bee538fc055417f0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "prenom",
                                    "nom",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "prenom": {
                                        "type": "string",
                                        "example": "John"
                                    },
                                    "nom": {
                                        "type": "string",
                                        "example": "Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Utilisateur inscrit et token retourné",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Authentification utilisateur",
                "operationId": "2dd578ff7aba2721293dac66833b27d1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Token d'accès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Déconnexion de l'utilisateur",
                "operationId": "68a6108af04af5e3bc1ea68a6c6f1299",
                "responses": {
                    "200": {
                        "description": "Déconnexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Déconnexion réussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/me": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Retourne l'utilisateur authentifié",
                "operationId": "e18baa7d6dfc432241dca2fc1985ce40",
                "responses": {
                    "200": {
                        "description": "Utilisateur connecté"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/user/{id}": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Afficher un utilisateur par son id",
                "operationId": "4513c37aeb4e5f627cf73c2cd0c8ccfe",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détails de l'utilisateur"
                    }
                }
            },
            "put": {
                "tags": [
                    "Auth"
                ],
                "summary": "Mettre à jour un utilisateur",
                "operationId": "2e5827488b67eda1a3830086f42e29c5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "prenom": {
                                        "type": "string"
                                    },
                                    "nom": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Utilisateur mis à jour"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Auth"
                ],
                "summary": "Supprimer un utilisateur",
                "operationId": "8cd930672898d368f2d7863e5c0904bb",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Utilisateur supprimé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Utilisateur supprimé"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/plant": {
            "get": {
                "tags": [
                    "Plant"
                ],
                "summary": "Liste toutes les plantes",
                "operationId": "d5241537f6505ae4a717f0c92bbb40fb",
                "responses": {
                    "200": {
                        "description": "Liste des plantes"
                    }
                }
            },
            "post": {
                "tags": [
                    "Plant"
                ],
                "summary": "Ajoute une nouvelle plante",
                "operationId": "8309c05e5772465302dd924140b3f526",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "common_name": {
                                        "type": "string",
                                        "example": "Test"
                                    },
                                    "ville": {
                                        "type": "string",
                                        "example": "Paris"
                                    },
                                    "watering": {
                                        "type": "string",
                                        "example": "medium"
                                    },
                                    "watering_general_benchmark": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Plante créée et météo du lieu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "plant": {
                                            "type": "object"
                                        },
                                        "weather": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/plant/{name}": {
            "get": {
                "tags": [
                    "Plant"
                ],
                "summary": "Affiche une plante par son nom",
                "operationId": "80c395237d1c7867d3775bc0bdbb3736",
                "parameters": [
                    {
                        "name": "name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détails de la plante"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Plant"
                ],
                "summary": "Supprime une plante par son nom",
                "operationId": "f4a7fece79a12719e88ec0c9f7d1faa7",
                "parameters": [
                    {
                        "name": "name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Plante supprimée"
                    }
                }
            }
        },
        "/plant/update": {
            "post": {
                "tags": [
                    "Plant"
                ],
                "summary": "Met à jour la base de données des plantes depuis l'API externe",
                "operationId": "f81e52a9f5dd1d9e5ab064f114d2fb0e",
                "responses": {
                    "200": {
                        "description": "Plantes mises à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Plantes mises à jour"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user/plants": {
            "get": {
                "tags": [
                    "UserPlant"
                ],
                "summary": "Liste les plantes de l'utilisateur connecté",
                "operationId": "0eb9a070f9e58bc55f14fa36d1fa5031",
                "responses": {
                    "200": {
                        "description": "Liste des plantes de l'utilisateur"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/user/plant": {
            "post": {
                "tags": [
                    "UserPlant"
                ],
                "summary": "Ajoute une plante à l'utilisateur",
                "operationId": "b4273403948f66e51d9e0bbc5532127b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "plant_name",
                                    "city"
                                ],
                                "properties": {
                                    "plant_name": {
                                        "type": "string",
                                        "example": "Test"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Lyon"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Plante ajoutée à l'utilisateur"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/user/plant/{id}": {
            "get": {
                "tags": [
                    "UserPlant"
                ],
                "summary": "Affiche une plante précise de l'utilisateur",
                "operationId": "896a5fb8a1bef8a548e4f5e2571b2f27",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détails de la plante de l'utilisateur"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "UserPlant"
                ],
                "summary": "Supprime une plante de l'utilisateur",
                "operationId": "b8bc9546b7a4d8703ee245e3fd461fe7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Plante supprimée de l'utilisateur"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Plant",
            "description": "Plant"
        },
        {
            "name": "UserPlant",
            "description": "UserPlant"
        }
    ]
}